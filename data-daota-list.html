<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>刀塔传奇</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<link rel="stylesheet" type="text/css" href="css/daota.css">
</head>

<body>
<header class="header">
	<div class="wblogo"><a href="javascript:;"><h1>刀塔传奇 英雄图鉴</h1></a></div>
</header><!--/header-->

<div class="daotalist">
	<div class="daota_nav">
        <ul>
            <li class="on">全部</li>
            <li>力量</li>
            <li>敏捷</li>
            <li>智力</li>
        </ul>
    </div><!--/daota_nav-->
    
    <div class="herolist">
        <div>
            <ul>
                <li>
                    <a href="data-daota-herodetail.html" data-heroid="2721" class="aherf">
                    <div class="img"><img src="http://res.wanba123.cn/gameRes/46/DBPic/46_2721_original.jpg"></div>船长
                    </a>
                </li>
                <li>
                    <a href="data-daota-herodetail.html" data-heroid="2724" class="aherf">
                    <div class="img"><img src="http://res.wanba123.cn/gameRes/46/DBPic/46_2724_original.jpg"></div>斧王
                    </a>
                </li>
                <li>
                    <a href="data-daota-herodetail.html" data-heroid="2725" class="aherf">
                    <div class="img"><img src="http://res.wanba123.cn/gameRes/46/DBPic/46_2725_original.jpg"></div>熊猫酒仙
                    </a>
                </li>
                <li>
                    <a href="javascript:;">
                    <div class="img"><img src="http://res.wanba123.cn/gameRes/46/DBPic/46_2725_original.jpg"></div>熊猫酒仙
                    </a>
                </li>
                <li>
                    <a href="javascript:;">
                    <div class="img"><img src="http://res.wanba123.cn/gameRes/46/DBPic/46_2725_original.jpg"></div>熊猫酒仙
                    </a>
                </li>
            </ul>
            <a href="javascript:;" class="lookmore">点击加载更多</a>
        </div>
        
        <div style="display:none">力量</div>
        <div style="display:none">敏捷</div>
        <div style="display:none">智力</div>
    </div><!--/herolist-->
    
    <div class="daota_nav">
        <ul>
            <li class="on">橙色</li>
            <li>紫色</li>
            <li>蓝色</li>
            <li>绿色</li>
            <li>白色</li>
        </ul>
    </div><!--/daota_nav-->
    
    <div class="equiplist">
    	<div>
            <ul>
                <li>
                    <a href="javascript:;"><div class="img"><img src="http://res.wanba123.cn/gameRes/46/DBPic/46_4949_thumb.jpg"></div><p>蓝鳞胸甲</p></a>
                </li>
                <li>
                    <a href="javascript:;"><div class="img"><img src="http://res.wanba123.cn/gameRes/46/DBPic/46_4949_thumb.jpg"></div><p>蓝鳞胸甲</p></a>
                </li>
                <li>
                    <a href="javascript:;"><div class="img"><img src="http://res.wanba123.cn/gameRes/46/DBPic/46_4949_thumb.jpg"></div><p>蓝鳞胸甲</p></a>
                </li>
                <li>
                    <a href="javascript:;"><div class="img"><img src="http://res.wanba123.cn/gameRes/46/DBPic/46_4949_thumb.jpg"></div><p>蓝鳞胸甲</p></a>
                </li>
                <li>
                    <a href="javascript:;"><div class="img"><img src="http://res.wanba123.cn/gameRes/46/DBPic/46_4949_thumb.jpg"></div><p>蓝鳞胸甲</p></a>
                </li>
                <li>
                    <a href="javascript:;"><div class="img"><img src="http://res.wanba123.cn/gameRes/46/DBPic/46_4949_thumb.jpg"></div><p>蓝鳞胸甲</p></a>
                </li>
                <li>
                    <a href="javascript:;"><div class="img"><img src="http://res.wanba123.cn/gameRes/46/DBPic/46_4949_thumb.jpg"></div><p>蓝鳞胸甲</p></a>
                </li>
            </ul>
            <a href="javascript:;" class="lookmore">点击加载更多</a>
        </div>
        
        <div style="display:none">紫色</div>
        <div style="display:none">蓝色</div>
        <div style="display:none">绿色</div>
        <div style="display:none">白色</div>
	</div><!--/equiplist-->
</div><!--/daotalist-->
<script type="text/javascript" src="js/jquery-2.1.3.min.js"></script>
<script type="text/javascript">
$(".aherf").on("click", function(e){
	//e.stopPropagation();
	//e.preventDefault();
	
	var _this = $(this);
	var heroid = _this.attr("data-heroid");
	var longHref = location.href.split("?");
	var compareHref = "data-daota-compare.html";
	var href = longHref[0];
	var query = longHref[1];
	var heroFirstOnly = "herofirstonly";
	var heroFirst = "herofirst";
	var heroSecond = "herosecond";
	
	if(query !== undefined){
		var args = new Object();  
		var pairs = query.split("&");
		var heroHref = "";
		for(var i=0; i<pairs.length; i++){
			var pos = pairs[i].indexOf('='); //查找name=value
			if(pos == -1) continue; //如果没有找到就跳过
			var argname = pairs[i].substring(0, pos); //提取name
			var value = pairs[i].substring(pos + 1); //提取value
			if(argname == heroFirstOnly || argname == heroFirst || argname == heroSecond){
				args[argname] = unescape(value); //存为属性
			}
		}
		
		if(args[heroFirstOnly] !== undefined){//只有1个英雄，点击第一个英雄过来
			heroHref = compareHref + "?" + heroFirst + "=" + heroid;
			_this.attr("href", heroHref);
		}else if(args[heroFirst] !== undefined){//有2个英雄，点击第二个英雄过来
			heroHref = compareHref + "?" + heroFirst + "=" + args[heroFirst] + "&" + heroSecond + "=" + heroid;
			_this.attr("href", heroHref);
		}else if(args[heroSecond] !== undefined){//有2个英雄，点击第一个英雄过来
			heroHref = compareHref + "?" + heroFirst + "=" + heroid + "&" + heroSecond + "=" + args[heroSecond];
			_this.attr("href", heroHref);
		}
	}
});
</script>
</body>
</html>
